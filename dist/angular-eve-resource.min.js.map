{"version":3,"sources":["angular-eve-resource.js"],"names":["angular","window","document","undefined","module","service","prepareArgs","args","isArray","arguments","Array","prototype","slice","call","map","arg","isFunction","filter","this","query","$and","cond","apply","length","$or","$eq","key","val","o","isDefined","$like","$regex","factory","$resource","url","paramDefaults","actions","options","toJsonReplacer","Resource","toJSON","value","data","forEach","charAt","exists","_id"],"mappings":"CAAE,SAAUA,EAASC,EAAQC,EAAUC,GACnC,YAEJH,GAAQI,OAAO,iCACX,eAGJJ,EAAQI,OAAO,iCACVC,QAAQ,MAAO,WACZ,QAASC,KACL,GAAIC,GAAOP,EAAQQ,QAAQC,UAAU,IAAMA,UAAU,GAAKC,MAAMC,UAAUC,MAAMC,KAAKJ,UACrF,OAAOF,GAAKO,IAAI,SAAUC,GACtB,MAAIf,GAAQgB,WAAWD,GACZA,IAEJA,IACRE,OAAO,SAAUF,GAChB,QAASA,IAGjBG,KAAKC,OACDC,KAAM,WACF,GAAIC,GAAOf,EAAYgB,MAAM,KAAMb,UACnC,OAAOY,GAAKE,OAAS,GACjBH,KAAMC,GACNA,EAAK,IAEbG,IAAK,WACD,GAAIH,GAAOf,EAAYgB,MAAM,KAAMb,UACnC,OAAOY,GAAKE,OAAS,GACjBC,IAAKH,GACLA,EAAK,IAEbI,IAAK,SAAUC,EAAKC,GAChB,GAAIC,EACJ,OAAI5B,GAAQ6B,UAAUH,IAAQ1B,EAAQ6B,UAAUF,IAC5CC,KACAA,EAAEF,GAAOC,EACFC,GAHX,QAMJE,MAAO,SAAUJ,EAAKC,GAClB,GAAIC,EACJ,OAAI5B,GAAQ6B,UAAUH,IAAQC,GAC1BC,KACAA,EAAEF,IACEK,OAAQJ,GAELC,GALX,WAWhB5B,EAAQI,OAAO,iCACV4B,QAAQ,eAAgB,YAAa,SAASC,GAC3C,MAAO,UAASC,EAAKC,EAAeC,EAASC,EAASC,GAClD,GAAIC,GACAC,CA+BJ,OA7BKxC,GAAQgB,WAAWsB,KAChBtC,EAAQgB,WAAWqB,IACnBC,EAAiBD,EACjBA,MAEAC,EAAiB,SAASZ,EAAKe,GAC3B,MAAOA,KAKnBF,EAAWN,EAAUC,EAAKC,EAAeC,EAASC,GAElDG,EAASD,EAAS5B,UAAU6B,OAE5BD,EAAS5B,UAAU6B,OAAS,WACxB,GAAIE,GAAOF,EAAO3B,KAAKK,KAMvB,OAJAlB,GAAQ2C,QAAQD,EAAM,SAASD,EAAOf,GAClCgB,EAAKhB,GAAyB,MAAlBA,EAAIkB,OAAO,GAAazC,EAAYmC,EAAeZ,EAAKe,KAGjEC,GAGXH,EAAS5B,UAAUkC,OAAS,WACxB,QAAS3B,KAAK4B,KAGXP,OAIjBrB,KAAKlB,QAASkB,KAAMA,KAAKhB","file":"angular-eve-resource.min.js","sourcesContent":[";(function (angular, window, document, undefined) {\n    'use strict';\n\nangular.module('com.dailymotion.ngEveResource', [\n    'ngResource'\n]);\n\nangular.module('com.dailymotion.ngEveResource')\n    .service('eve', function () {\n        function prepareArgs () {\n            var args = angular.isArray(arguments[0]) ? arguments[0] : Array.prototype.slice.call(arguments);\n            return args.map(function (arg) {\n                if (angular.isFunction(arg)) {\n                    return arg();\n                }\n                return arg;\n            }).filter(function (arg) {\n                return !!arg;\n            });\n        }\n        this.query = {\n            $and: function () {\n                var cond = prepareArgs.apply(null, arguments);\n                return cond.length > 1 ? {\n                    $and: cond,\n                } : cond[0];\n            },\n            $or: function () {\n                var cond = prepareArgs.apply(null, arguments);\n                return cond.length > 1 ? {\n                    $or: cond,\n                } : cond[0];\n            },\n            $eq: function (key, val) {\n                var o;\n                if (angular.isDefined(key) && angular.isDefined(val)) {\n                    o = {};\n                    o[key] = val;\n                    return o;\n                }\n            },\n            $like: function (key, val) {\n                var o;\n                if (angular.isDefined(key) && val) {\n                    o = {};\n                    o[key] = {\n                        $regex: val\n                    };\n                    return o;\n                }\n            },\n        };\n    });\n\nangular.module('com.dailymotion.ngEveResource')\n    .factory('eveResource', ['$resource', function($resource) {\n        return function(url, paramDefaults, actions, options, toJsonReplacer) {\n            var Resource,\n                toJSON;\n\n            if (!angular.isFunction(toJsonReplacer)) {\n                if (angular.isFunction(options)) {\n                    toJsonReplacer = options;\n                    options = {};\n                } else {\n                    toJsonReplacer = function(key, value) {\n                        return value;\n                    };\n                }\n            }\n\n            Resource = $resource(url, paramDefaults, actions, options);\n\n            toJSON = Resource.prototype.toJSON;\n\n            Resource.prototype.toJSON = function() {\n                var data = toJSON.call(this);\n\n                angular.forEach(data, function(value, key) {\n                    data[key] = key.charAt(0) === '_' ? undefined : toJsonReplacer(key, value);\n                });\n\n                return data;\n            };\n\n            Resource.prototype.exists = function() {\n                return !!this._id;\n            };\n\n            return Resource;\n        };\n    }]);\n\n}(this.angular, this, this.document));\n"],"sourceRoot":"/source/"}